<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Histórico de Mensagens</title>
    <base href="https://leonardodlima.github.io/Portfolio/">
    <link rel="stylesheet" href="css/style.css?v=1.1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>

<body>
    <header class="header">
        <a href="#" class="logo">Portifólio</a>
        <nav class="navbar">
            <a href="index.html#inicio">Inicio</a>
            <a href="index.html#sobre">Sobre</a>
            <a href="index.html#servicos">Serviços</a>
            <a href="index.html#portifolio">Portifólio</a>
            <a href="index.html#contato">Contato</a>
        </nav>
    </header>

    <section class="historico" id="historico">
        <h2 class="cabecario">Histórico de <span>Mensagens</span></h2>

        <div id="login-area">
            <p>Digite a senha para acessar o histórico:</p>
            <input type="password" id="senha" placeholder="Senha">
            <button onclick="verificarSenha()" class="btn">Entrar</button>
            <p id="login-erro" style="color:red; margin-top:10px;"></p>
        </div>

        <div id="tabela-area" style="display: none;">
            <table border="1" cellpadding="10" cellspacing="0">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Email</th>
                        <th>Telefone</th>
                        <th>Assunto</th>
                        <th>Mensagem</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody id="tabela-corpo">
                    <!-- Mensagens carregadas aqui -->
                </tbody>
            </table>
        </div>
    </section>

    <footer class="rodape">
        <div class="texto-rodape">
            <p>Copyright &copy; 2024 by Leonardo Duarte de Lima | All Rights Reserved.</p>
        </div>
        <div class="rodape-iconTop">
            <a href="#historico"><i class="bi bi-caret-up-fill"></i></a>
        </div>
    </footer>

    <script>
        function verificarSenha() {
            const senha = document.getElementById('senha').value;
            const senhaCorreta = '123456'; // Altere para sua senha desejada

            if (senha === senhaCorreta) {
                document.getElementById('login-area').style.display = 'none';
                document.getElementById('tabela-area').style.display = 'block';
                carregarMensagens();
            } else {
                document.getElementById('login-erro').innerText = 'Senha incorreta.';
            }
        }

        function carregarMensagens() {
            const mensagens = JSON.parse(localStorage.getItem('mensagens')) || [];
            const corpoTabela = document.getElementById('tabela-corpo');

            if (mensagens.length === 0) {
                corpoTabela.innerHTML = '<tr><td colspan="6">Nenhuma mensagem encontrada.</td></tr>';
                return;
            }

            mensagens.forEach(mensagem => {
                const linha = document.createElement('tr');
                linha.innerHTML = `
                    <td>${mensagem.nome}</td>
                    <td>${mensagem.email}</td>
                    <td>${mensagem.telefone}</td>
                    <td>${mensagem.assunto}</td>
                    <td>${mensagem.mensagem}</td>
                    <td>${mensagem.data}</td>
                `;
                corpoTabela.appendChild(linha);
            });
        }
    </script>

</body>

</html>
